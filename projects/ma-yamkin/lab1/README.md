# Лабораторная работа №1

## Описание задания

В рамках первой лабораторной работы необходимо было локально развернуть LLM из разных семейств с помощью Ollama. После чего необходимо было провести сравнение резульататов работы разных LLM на промптах с разной целью: генерация письма, классификация, извлечение из текста сущностей.

## Использованные технологии и модели

- LLM: mistral:7b-instruct-v0.3-q4_0, llama3.1:8b-instruct-q4_0, qwen2.5:3b.
- Библиотеки: openai, json, time, datetime.

## Результаты работы

В рамках лабораторной работы были локально развернуты LLM из разных семейств.

1. Задачу генерации письма хорошо решили все языковые модели, но из-за ограничения количества токенов почти все письма оказались незаконченными;
2. Задачу классификации верно решили все модели;
3. С уменьшением температуры модели увеличивается скорость ее ответа;
4. С задачей извлечения лучше всего справилась модель llama, при этом она говорила в начале, что не может предоставлять такую информацию.

***Таблица со сравнением результатов моделей:***

Задача | Модель | Вариант | Время (сек) | Выходные токены | Скорость (токенов/сек) | Ответ
--- | --- | --- | --- | --- | --- | ---
P1_generation | mistral:7b-instruct-v0.3-q4_0 | basic | 29.14 | 128 | 4.4 | От имени компании «ТехноСфера» приветствуем Вас!<br><br>Мы пишем это письмо с целью информировать Вас о некоторых изменениях в нашей планировке по запуску нового сервиса. Принимая во внимание важность этого проекта и желаемую успешную реализацию, мы решили перенести дату стартового запуска с 15 на 22 апреля 2025 года.
P1_generation | mistral:7b-instruct-v0.3-q4_0 | tuned | 34.61 | 256 | 7.4 | Гражданин (Город, Код почты),<br><br>Добрый день!<br><br>Я представляюсь из компании «ТехноСфера», с которой Вы уже имели дело в рамках наших совместных проектов. Мы обращаемся к Вам с целью сообщить о некоторых изменениях, связанных с запуском нового сервиса, который мы готовим для Вас.<br><br>В связи с неожиданными обстоятельствами и необходимостью обеспечить высочайший уровень качества предоставляемого решения, мы принимаем решение перенести дату запуска нового сервиса на 7 дней. Новый срок запуска будет 22 апреля 2025 года. Мы понимаем, что это может вызвать некоторые трудности в планировании, и хотим выразить Вам нашу глубокую си
P2_classification | mistral:7b-instruct-v0.3-q4_0 | basic | 9.35 | 9 | 1.0 | Ресторанный бизнес
P2_classification | mistral:7b-instruct-v0.3-q4_0 | tuned | 1.28 | 9 | 7.0 | Ресторанный бизнес
P3_extraction | mistral:7b-instruct-v0.3-q4_0 | basic | 33.73 | 128 | 3.8 | 1. Извлеченные поля:<br>    - Название: Galaxy Book4 Edge<br>    - Производитель: Samsung<br>    - Объём памяти (в ГБ): 16 ГБ<br>    - Тип: Ноутбук<br><br>2. Краткое резюме о ключевых особенностях устройства: Этот ноутбук Galaxy Book4 Edge от Samsung оснащен процессором Snapdragon X Elite, имеет 16 ГБ ОЗУ и 51
P3_extraction | mistral:7b-instruct-v0.3-q4_0 | tuned | 17.65 | 129 | 7.3 | 1. Поля:<br>   - Название: Galaxy Book4 Edge<br>   - Производитель: Samsung<br>   - Объём памяти (в ГБ): 16 ГБ<br>   - Тип: Ноутбук<br><br>2. Краткое резюме:<br>   - Ультрабук Galaxy Book4 Edge от Samsung оснащен процессором Snapdragon X Elite и обладает автономностью до 20 часов, что делает его идеальным для работы и творчества.
P1_generation | llama3.1:8b-instruct-q4_0 | basic | 31.36 | 128 | 4.1 | Дорогой [фамилия клиента],<br><br>Прежде всего хотели бы поблагодарить Вас за поддержку нашего новейшего сервиса, запуск которого ожидался на 15 апреля 2025 года. Нам крайне приятно, что Вы готовы принять участие в этом проекте и мы благодарны за Ваше доверие.<br><br>После тщательного рассмотрения технической стороны нашего проекта необходимо сообщить Вам об изменении запланированной даты запуска сервиса. Подводя итог наших обсуждений, нам
P1_generation | llama3.1:8b-instruct-q4_0 | tuned | 37.77 | 256 | 6.8 | Дорогой [ФИО клиента],<br><br>Уважаемый клиент!<br><br>Нам приятно сообщить Вам, что наша компания «ТехноСфера» готовится запустить новый сервис, который будет способствовать улучшению качества предоставляемых нами услуг.<br><br>Однако, нам необходимо сообщить о некоторых изменениях в графике запуска. Новая дата запуска нашего сервиса переносится с 15 апреля на 22 апреля 2025 года. Мы понимаем, что это может вызвать некоторые неудобства и просим прощения за любые неожиданности.<br><br>Хотели бы мы выразить свою благодарность за понимание и терпение в этом вопросе. Мы уверены, что новая дата запуска нашего сервиса будет способствовать еще большему улучшению качества предоставляемых нами услуг.<br><br>Новый сервис «ТехноСферы» будет представлять собой [описание сервиса]. Мы убеждены, что это решение будет высокого качества и станет ценным дополнением к нашим уже существующим услугам
P2_classification | llama3.1:8b-instruct-q4_0 | basic | 7.82 | 7 | 0.9 | Ресторанный бизнес.
P2_classification | llama3.1:8b-instruct-q4_0 | tuned | 1.45 | 7 | 4.8 | Ресторанный бизнес.
P3_extraction | llama3.1:8b-instruct-q4_0 | basic | 26.86 | 94 | 3.5 | Я не могу предоставить информацию о возрасте или модели Samsung Galaxy Book4 Edge, в котором указано содержание взрослых материалов. Извлечение информации обо всем описанном выше: <br><br>- Товар: Samsung Galaxy Book4 Edge <br>- Производитель: Samsung<br>- Объем памяти: 16 ГБ оперативной памяти и на диске 512ГБ ( SSD).<br>- Тип: ноутбук.
P3_extraction | llama3.1:8b-instruct-q4_0 | tuned | 17.21 | 114 | 6.6 | Нет данных о производителе.<br><br>1. Название: Galaxy Book4 Edge<br>2. Производитель: Samsung<br>3. Объём памяти: 16 ГБ ОЗУ, 512 ГБ SSD-накопитель.<br>4. Тип: ноутбук.<br><br>Резюме:<br>Гalaxy Book4 Edge - это ультрабук Samsung с процессором Snapdragon X Elite и автономностью до 20 часов. Он идеален для работы и творчества благодаря своим характеристикам.
P1_generation | qwen2.5:3b | basic | 14.42 | 128 | 8.9 | [Ваше Имя]  <br>[Ваша должность]  <br>ТехноСфера  <br>Адрес компании  <br>Город, ZIP-код<br><br>[Почтовый адрес или электронная почта клиента]<br><br>22 апреля 2025 года<br><br>Уважаемый [Имя клиента],<br><br>Я пишу вам сегодня с надеждой подтвердить важные новости относительно запуска нашего нового сервиса.<br><br>Как известно, наш новый сервис был намечен для запуска в течение первой декады апреля, чтобы обеспечить максимальное количество
P1_generation | qwen2.5:3b | tuned | 15.74 | 256 | 16.3 | [Ваше Имя]  <br>[Ваша должность]  <br>ТехноСфера  <br>Адрес компании  <br>Город, ZIP-код  <br><br>[Дата письма]  <br><br>[Контактный телефон клиента]  <br>[Электронная почта клиента]  <br><br>Дорогой [Имя клиента],<br><br>Я пишу вам с радостью сообщить о том, что дата запуска нового сервиса «ТехноСфера» была перенесена на 22 апреля 2025 года. Мы понимаем важность вашего времени и ценностей, поэтому мы приняли решение изменить дату.<br><br>Наш новый сервис представляет собой инновационное решение для [краткое описание нового сервиса], которое будет значительно улучшать ваш опыт использования наших услуг. Мы уверены в высоком качестве предоставляемого решения и готовы к тому, чтобы представить его вам на новой дате.<br><br>Мы выражаем глубокую благодарность за понимание вашего времени и приносим извинения за любые неудобства, которые могли возникнуть. Мы уверены, что
P2_classification | qwen2.5:3b | basic | 3.74 | 7 | 1.9 | Ресторанный бизнес
P2_classification | qwen2.5:3b | tuned | 0.75 | 7 | 9.4 | Ресторанный бизнес
P3_extraction | qwen2.5:3b | basic | 13.77 | 128 | 9.3 | ### Извлеченные поля:<br>- Название: Ультрабук Galaxy Book4 Edge от Samsung<br>- Производитель: Samsung<br>- Объём памяти: 512 ГБ SSD (включая 16 ГБ оперативной памяти)<br>- Тип устройства: Ноутбук<br><br>### Краткое резюме:<br>Ультрабук Galaxy Book4 Edge от Samsung сочетает в себе высокий уровень производительности, автономной батареи до 20 часов и остроумный AMOLED-эк
P3_extraction | qwen2.5:3b | tuned | 11.80 | 192 | 16.3 | ### Извлеченные поля:<br>1. **Название:** Новинка 2025 года от Samsung — ультрабук Galaxy Book4 Edge<br>2. **Производитель:** Samsung<br>3. **Объём памяти (в ГБ):** 16 + 512<br>4. **Тип устройства:** Ноутбук<br><br>### Краткое резюме:<br>Это новинка от Samsung — ультрабук Galaxy Book4 Edge с мощным процессором Snapdragon X Elite, высокопроизводительной оперативной памятью и SSD-накопителем, а также 14-дюймовым AMOLED-дисплеем. Особенностью устройства является автономность до 20 часов, что делает его идеальным для работы и творчества.

## Вывод

Все модели отрабатывают корректно на каждую из предоставленных задач. При этом модель отрабатывает хорошо вне зависимости от измененных параметров. Время ответа является удовлетворительным. При установлении параметра по токенам, ответ просто "обрезается". 

## Инструкция по запуску
1. Установить зависимости: `pip install -r requirements.txt`
2. Запустить скрипт: `python source/main.py`